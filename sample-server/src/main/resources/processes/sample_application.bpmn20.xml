<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:activiti="http://activiti.org/bpmn" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:omgdi="http://www.omg.org/spec/DD/20100524/DI" typeLanguage="http://www.w3.org/2001/XMLSchema" expressionLanguage="http://www.w3.org/1999/XPath" targetNamespace="http://www.activiti.org/processdef">
  <process id="sample_application" name="sample_application" isExecutable="true">
    <startEvent id="sid-24652852-e69e-42fe-af7f-a368c582d4a1"/>
    <userTask id="sid-b5b3e310-b66f-4980-a3c5-18641c2bb2a7" name="sampleApplicationOnline"/>
    <userTask id="sid-c2179ec8-7de4-4ff7-bd44-73917fe18945" name="sampleApplicationOffline"/>
    <exclusiveGateway id="sid-825a3b65-c16d-4b12-bcb7-77421ce40c68"/>
    <sequenceFlow id="sid-b88908d7-aa47-4ac5-9a6c-230fac568156" sourceRef="sid-24652852-e69e-42fe-af7f-a368c582d4a1" targetRef="sid-825a3b65-c16d-4b12-bcb7-77421ce40c68"/>
    <sequenceFlow id="sid-3e36ef36-ed4c-4e51-ab6f-86564331c4ea" sourceRef="sid-825a3b65-c16d-4b12-bcb7-77421ce40c68" targetRef="sid-b5b3e310-b66f-4980-a3c5-18641c2bb2a7">
      <conditionExpression xsi:type="tFormalExpression">${state==1}</conditionExpression>
    </sequenceFlow>
    <sequenceFlow id="sid-bac382e5-2baf-4a7f-827c-0497303d1a87" sourceRef="sid-825a3b65-c16d-4b12-bcb7-77421ce40c68" targetRef="sid-c2179ec8-7de4-4ff7-bd44-73917fe18945">
      <conditionExpression xsi:type="tFormalExpression">${state==2}</conditionExpression>
    </sequenceFlow>
    <serviceTask id="sid-a11d7185-6843-4ce7-b8fe-6470e7b9ad4a" activiti:exclusive="true" name="saveFile" activiti:delegateExpression="${saveFileDelegate}"/>
    <serviceTask id="sid-462b2117-ba76-4466-afd1-67137d1a7e47" activiti:exclusive="true" name="saveMessage" activiti:delegateExpression="${saveMassageDelegate}"/>
    <sequenceFlow id="sid-a214a7c9-0ad0-497e-bf9a-a393f2d2fb21" sourceRef="sid-b5b3e310-b66f-4980-a3c5-18641c2bb2a7" targetRef="sid-a11d7185-6843-4ce7-b8fe-6470e7b9ad4a"/>
    <sequenceFlow id="sid-91642fb3-99e2-45c5-bf5d-f278231d4d17" sourceRef="sid-c2179ec8-7de4-4ff7-bd44-73917fe18945" targetRef="sid-462b2117-ba76-4466-afd1-67137d1a7e47"/>
    <serviceTask id="sid-07a52d9e-9e86-4d8a-8e51-46b346f3f416" activiti:exclusive="true" name="callDelegationServer" activiti:delegateExpression="${callDelegationServerDelegate}"/>
    <sequenceFlow id="sid-7bda0807-f550-4038-83ce-4c62b08c5709" sourceRef="sid-a11d7185-6843-4ce7-b8fe-6470e7b9ad4a" targetRef="sid-07a52d9e-9e86-4d8a-8e51-46b346f3f416"/>
    <sequenceFlow id="sid-17fab105-a5d3-4447-bd2e-5d48c4e7ddd6" sourceRef="sid-462b2117-ba76-4466-afd1-67137d1a7e47" targetRef="sid-07a52d9e-9e86-4d8a-8e51-46b346f3f416"/>
    <endEvent id="sid-674cce97-4b1e-4406-9b7b-39dec201d351"/>
    <sequenceFlow id="sid-96d84f25-e22b-4c77-9b51-1ce3a4ef8e23" sourceRef="sid-07a52d9e-9e86-4d8a-8e51-46b346f3f416" targetRef="sid-674cce97-4b1e-4406-9b7b-39dec201d351"/>
  </process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_sample_application">
    <bpmndi:BPMNPlane bpmnElement="sample_application" id="BPMNPlane_sample_application">
      <bpmndi:BPMNShape id="shape-b127c15d-aabb-4283-a5c2-7c3f5cfea405" bpmnElement="sid-24652852-e69e-42fe-af7f-a368c582d4a1">
        <omgdc:Bounds x="-20.0" y="-25.0" width="30.0" height="30.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape-73af3ae7-efdf-4436-982a-0c4944c5a819" bpmnElement="sid-b5b3e310-b66f-4980-a3c5-18641c2bb2a7">
        <omgdc:Bounds x="125.0" y="-110.0" width="100.0" height="80.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape-21f63875-6b13-4c05-86c2-d68350b8317f" bpmnElement="sid-c2179ec8-7de4-4ff7-bd44-73917fe18945">
        <omgdc:Bounds x="125.0" y="5.0" width="100.0" height="80.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape-3ad61d5e-46d2-4ca1-9dfd-7b019e2deeb5" bpmnElement="sid-825a3b65-c16d-4b12-bcb7-77421ce40c68">
        <omgdc:Bounds x="45.0" y="-30.0" width="40.0" height="40.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge-7d4b8198-9f2a-4e8f-9434-07a350176be7" bpmnElement="sid-b88908d7-aa47-4ac5-9a6c-230fac568156">
        <omgdi:waypoint x="10.0" y="-10.0"/>
        <omgdi:waypoint x="45.0" y="-10.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge-3911a8bb-302b-4f82-8e8a-14d1857f7c6e" bpmnElement="sid-3e36ef36-ed4c-4e51-ab6f-86564331c4ea">
        <omgdi:waypoint x="85.0" y="-10.0"/>
        <omgdi:waypoint x="125.0" y="-50.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge-fb393e92-a463-403f-8988-e206489d2762" bpmnElement="sid-bac382e5-2baf-4a7f-827c-0497303d1a87">
        <omgdi:waypoint x="65.0" y="10.0"/>
        <omgdi:waypoint x="125.0" y="25.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape-d5cc7304-b75d-4001-afad-2a7e2772462a" bpmnElement="sid-a11d7185-6843-4ce7-b8fe-6470e7b9ad4a">
        <omgdc:Bounds x="270.0" y="-110.0" width="100.0" height="80.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape-57cc7ca0-a846-4377-9aa0-8f93c21b0706" bpmnElement="sid-462b2117-ba76-4466-afd1-67137d1a7e47">
        <omgdc:Bounds x="270.0" y="5.0" width="100.0" height="80.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge-d7386fc8-6ea6-4bed-8013-bbe462f0f8cd" bpmnElement="sid-a214a7c9-0ad0-497e-bf9a-a393f2d2fb21">
        <omgdi:waypoint x="225.0" y="-70.0"/>
        <omgdi:waypoint x="270.0" y="-70.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge-48cc43a5-4e2a-4b65-8d66-adc13e648d33" bpmnElement="sid-91642fb3-99e2-45c5-bf5d-f278231d4d17">
        <omgdi:waypoint x="225.0" y="45.0"/>
        <omgdi:waypoint x="270.0" y="45.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape-9f62b5fc-58e0-4f30-9fc6-892162206481" bpmnElement="sid-07a52d9e-9e86-4d8a-8e51-46b346f3f416">
        <omgdc:Bounds x="415.0" y="-50.0" width="100.0" height="80.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge-14f10908-2695-45d9-a576-55ad5ac803e7" bpmnElement="sid-7bda0807-f550-4038-83ce-4c62b08c5709">
        <omgdi:waypoint x="370.0" y="-50.0"/>
        <omgdi:waypoint x="415.0" y="-30.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="edge-753c1ca2-b20d-47ae-a05a-54562c148c7e" bpmnElement="sid-17fab105-a5d3-4447-bd2e-5d48c4e7ddd6">
        <omgdi:waypoint x="370.0" y="25.0"/>
        <omgdi:waypoint x="415.0" y="10.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape-efeb7707-9bb1-4d75-9489-1fac1b71b951" bpmnElement="sid-674cce97-4b1e-4406-9b7b-39dec201d351">
        <omgdc:Bounds x="565.0" y="-25.0" width="30.0" height="30.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge-808b5799-73ee-43cf-a072-c52e9855d5c8" bpmnElement="sid-96d84f25-e22b-4c77-9b51-1ce3a4ef8e23">
        <omgdi:waypoint x="515.0" y="-10.0"/>
        <omgdi:waypoint x="565.0" y="-10.0"/>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>
